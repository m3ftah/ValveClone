<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">

<dom-module id="my-pie">
  <template>
    <style include="shared-styles">
    #filter,#sort{
      margin: 10px;
    }
    </style>
    <div id="container" style="min-width: 390px; height: 400px; margin: 0 auto"></div>
  </template>

  <script>
    (function() {
      'use strict';
      var chart = {
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false,
            type: 'pie'
        },
        title: {
            text: 'Fertilizers use per farm'
        },
        subtitle: {
                text: 'of the total use of farms'
        },
        tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                    style: {
                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                    }
                }
            }
        },
        series: [{
            name: 'Farms',
            colorByPoint: true,
            data: [
            {
                name: 'Brahim',
                y: 25.03,
                sliced: true,
                selected: true
            }, {
                name: 'Ali',
                y: 19.38
            }, {
                name: 'Yacine',
                y: 10.77
            }, {
                name: 'Hamza',
                y: 13.91
            }]
        }]
    }

      Polymer({
        is: 'my-pie',

        properties: {
          pin :{
            type : String,
            value : 1
          }
        },
        envoyer : function(){
        },
        toggle : function() {
          this.$.collapse.toggle();
        },
        postComplete : function(){
              console.log(this.postResponse);
        },
        ready: function() {
        $(this.$.container).highcharts(chart);
        }
      });
    })();
  </script>
</dom-module>
